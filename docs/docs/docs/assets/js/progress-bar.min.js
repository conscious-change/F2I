document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.querySelector('meta[name="baseurl"]');if(e)return e.getAttribute("content");const t=document.querySelectorAll('script[src*="/assets/js/"]');for(const e of t){const t=e.getAttribute("src"),n=t.match(/^(\/[^\/]+)?\/assets\/js\//);if(n&&n[1])return n[1]}return"/F2I"}const t=e();console.log("Detected baseurl:",t);const n=[{url:t+"/pages/self-assessment.html",step:1},{url:t+"/pages/industry-research.html",step:2},{url:t+"/pages/skill-translation-hub.html",step:3},{url:t+"/pages/resume-personal-branding.html",step:4},{url:t+"/pages/networking-strategies.html",step:5},{url:t+"/pages/job-search-resources.html",step:6},{url:t+"/pages/interview-preparation.html",step:7},{url:t+"/pages/compensation-benefits.html",step:8},{url:t+"/pages/transition-checklist.html",step:9}],r=["Self-Assessment","Industry Research","Skill Translation","Resume & Branding","Networking","Job Search","Interview Prep","Compensation","Transition Checklist"],s=document.getElementById("nav-progress-fill"),a=document.getElementById("current-step"),o=document.getElementById("nav-progress-bar");if(!s||!a||!o)return void console.error("Progress bar elements not found");const l=window.location.pathname;console.log("Current path:",l);let i=n.find(e=>e.url===l);if(!i&&t){const e=l.replace(t,"");if(i=n.find(n=>n.url===t+e),!i){const e=l.split("/").pop();i=n.find(t=>t.url.endsWith("/"+e))}}const c=i?i.step:0;console.log("Current step:",c),c>0&&(localStorage.setItem("currentStep",c),console.log("Saved current step:",c));const u=c||parseInt(localStorage.getItem("currentStep"))||0;if(console.log("Display step:",u),u>0){const e=(u-1)/(n.length-1)*100;s.style.width=`${e}%`,a.textContent=u,o.style.cursor="pointer",o.title="View Transition Roadmap",o.addEventListener("click",function(){window.location.href=t+"/pages/transition-roadmap.html"});const r=document.querySelector(".nav-progress-wrapper");r&&(r.style.display="flex",console.log("Progress bar wrapper displayed"))}else{const e=document.querySelector(".nav-progress-wrapper");e&&(e.style.display="none",console.log("Progress bar wrapper hidden"))}});
