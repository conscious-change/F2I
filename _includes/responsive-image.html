{% comment %}
Responsive image include that generates appropriate srcset and sizes attributes
Usage: {% include responsive-image.html path="path/to/image.jpg" alt="Alt text" %}
{% endcomment %}

{% assign default_sizes = "(min-width: 1200px) 1200px, 100vw" %}
{% assign default_resize_options = "800, 1200, 1600" %}

<img 
  src="{{ include.path | relative_url }}" 
  alt="{{ include.alt }}" 
  srcset="{% for width in include.resize_options | default: default_resize_options | split: ', ' %}{{ include.path | replace: '.jpg', '-' | append: width | append: '.jpg' | relative_url }} {{ width }}w{% unless forloop.last %}, {% endunless %}{% endfor %}" 
  sizes="{{ include.sizes | default: default_sizes }}"
  {% if include.lazy %}loading="lazy"{% endif %}
  {% if include.class %}class="{{ include.class }}"{% endif %}
>
